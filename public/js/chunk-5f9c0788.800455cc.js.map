{"version":3,"sources":["webpack:///./src/views/settings/region/Index.vue?1572","webpack:///./src/views/settings/region/Index.vue?16f7","webpack:///src/views/settings/region/Index.vue","webpack:///./src/views/settings/region/Index.vue?b75a","webpack:///./src/views/settings/region/Index.vue?729d"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","loading","staticClass","directives","name","rawName","value","expression","modifiers","on","$event","addModal","_v","model","query","callback","$$v","$set","getData","data","length","_e","_l","row","rowIndex","key","regency","regencyIndex","imagePath","image_filename","_s","getProvince","province_id","staticStyle","description","editModal","deleteData","_f","updated_at","_idx","ref","modalTitle","availableProvinces","province","id","params","timezoneOptions","dropzoneOptions","dropzone_added","staticRenderFns","components","vueDropzone","BFormTextarea","VSelect","BFormRadioGroup","BOverlay","BAlert","BSpinner","BForm","BFormInput","BInputGroupAppend","BFormGroup","BInputGroup","BCardGroup","BCardFooter","BCard","BCardText","BButton","BCardBody","BCardTitle","BCardSubTitle","BRow","BCol","BLink","BImg","Ripple","filters","uppercase","v","toUpperCase","url","maxFilesize","maxFiles","autoProcessQueue","thumbnailWidth","thumbnailHeight","addRemoveLinks","acceptedFiles","dropzoneSelectedFile","keyword","limit","page","defaultParams","image","timezone_offset","$imagePath","computed","chunkedData","created","initDefaultParams","getAvailableProvinces","methods","toastErrorMsg","$http","prov","JSON","parse","stringify","$refs","onOk","show","$nextTick","addData","dataURL","item","$","remove","editData","_method","$swal","title","text","icon","showCancelButton","confirmButtonText","customClass","confirmButton","cancelButton","buttonsStyling","result","dropzone","removeFile","file","component"],"mappings":"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","file":"js/chunk-5f9c0788.800455cc.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-card',[_c('b-overlay',{attrs:{\"show\":_vm.loading,\"spinner-variant\":\"primary\",\"rounded\":\"sm\"}},[_c('div',[_c('div',{staticClass:\"custom-search d-flex justify-content-between\"},[_c('b-form-group',[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('b-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",value:('rgba(113, 102, 240, 0.15)'),expression:\"'rgba(113, 102, 240, 0.15)'\",modifiers:{\"400\":true}}],attrs:{\"variant\":\"outline-primary\"},on:{\"click\":function($event){return _vm.addModal()}}},[_c('feather-icon',{staticClass:\"mr-50\",attrs:{\"icon\":\"PlusIcon\"}}),_c('span',{staticClass:\"align-middle\"},[_vm._v(\"Add\")])],1)],1)]),_c('b-form-group',[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('b-input-group',[_c('b-form-input',{staticClass:\"d-inline-block\",attrs:{\"placeholder\":\"Search\",\"type\":\"text\"},model:{value:(_vm.query.keyword),callback:function ($$v) {_vm.$set(_vm.query, \"keyword\", $$v)},expression:\"query.keyword\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"variant\":\"outline-primary\"},on:{\"click\":function($event){return _vm.getData()}}},[_c('feather-icon',{attrs:{\"icon\":\"SearchIcon\"}})],1)],1)],1)],1)])],1),(_vm.data.length == 0)?_c('div',{staticClass:\"text-center\"},[_c('p',{staticClass:\"mb-2 pb-75\"},[_vm._v(\"\\n            No data to show\\n          \")])]):_vm._e(),(_vm.data.length > 0)?_c('div',_vm._l((_vm.chunkedData),function(row,rowIndex){return _c('b-row',{key:rowIndex},[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('b-card-group',{staticClass:\"mb-0\",attrs:{\"deck\":\"\"}},[_vm._l((row),function(regency,regencyIndex){return _c('b-card',{key:regencyIndex,attrs:{\"img-src\":_vm.imagePath + regency.image_filename,\"img-alt\":regency.name,\"img-top\":\"\",\"no-body\":\"\"}},[_c('b-card-body',[_c('small',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm.getProvince(regency.province_id)))]),_c('b-card-title',{staticStyle:{\"margin-top\":\"5px\"}},[_vm._v(_vm._s(regency.name))]),_c('b-card-text',[_vm._v(\"\\n                      \"+_vm._s(regency.description)+\"\\n                    \")])],1),_c('b-card-footer',[_c('b-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",value:('rgba(113, 102, 240, 0.15)'),expression:\"'rgba(113, 102, 240, 0.15)'\",modifiers:{\"400\":true}}],staticClass:\"btn-icon rounded-circle\",attrs:{\"variant\":\"outline-primary\"},on:{\"click\":function($event){return _vm.editModal(regency)}}},[_c('feather-icon',{attrs:{\"icon\":\"Edit2Icon\"}})],1),_c('b-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",value:('rgba(113, 102, 240, 0.15)'),expression:\"'rgba(113, 102, 240, 0.15)'\",modifiers:{\"400\":true}}],staticClass:\"btn-icon rounded-circle\",staticStyle:{\"margin-left\":\"5px\"},attrs:{\"variant\":\"outline-danger\"},on:{\"click\":function($event){return _vm.deleteData(regency)}}},[_c('feather-icon',{attrs:{\"icon\":\"TrashIcon\"}})],1),_c('small',{staticClass:\"text-muted ml-1\"},[_vm._v(\"Last updated\\n                      \"+_vm._s(_vm._f(\"moment\")(regency.updated_at,\"from\", \"now\"))+\"\\n                    \")])],1)],1)}),_vm._l((3 - row.length),function(_idx){return _c('b-card',{key:_idx,attrs:{\"no-body\":\"\"}})})],2)],1)],1)}),1):_vm._e()])])],1),_c('b-modal',{ref:\"modal-input\",attrs:{\"centered\":\"\",\"title\":_vm.modalTitle,\"no-close-on-backdrop\":true}},[_c('b-form',[_c('b-form-group',[_c('label',{attrs:{\"for\":\"province\"}},[_vm._v(\"Province :\")]),_c('v-select',{attrs:{\"options\":_vm.availableProvinces,\"reduce\":function (province) { return province.id; },\"label\":\"name\"},model:{value:(_vm.params.province_id),callback:function ($$v) {_vm.$set(_vm.params, \"province_id\", $$v)},expression:\"params.province_id\"}})],1),_c('b-form-group',[_c('label',{attrs:{\"for\":\"regionName\"}},[_vm._v(\"Region Name :\")]),_c('b-form-input',{attrs:{\"id\":\"regionName\",\"type\":\"text\",\"placeholder\":\"Region Name\"},model:{value:(_vm.params.name),callback:function ($$v) {_vm.$set(_vm.params, \"name\", $$v)},expression:\"params.name\"}})],1),_c('b-form-group',[_c('label',{attrs:{\"for\":\"description\"}},[_vm._v(\"Description :\")]),_c('b-form-textarea',{attrs:{\"id\":\"description\",\"placeholder\":\"Description\",\"rows\":\"3\",\"no-resize\":\"\"},model:{value:(_vm.params.description),callback:function ($$v) {_vm.$set(_vm.params, \"description\", $$v)},expression:\"params.description\"}})],1),_c('b-form-group',[_c('label',{attrs:{\"for\":\"timezone\"}},[_vm._v(\"Timezone :\")]),_c('b-form-radio-group',{staticClass:\"spacer\",attrs:{\"options\":_vm.timezoneOptions},model:{value:(_vm.params.timezone_offset),callback:function ($$v) {_vm.$set(_vm.params, \"timezone_offset\", $$v)},expression:\"params.timezone_offset\"}})],1),_c('b-form-group',[_c('label',{attrs:{\"for\":\"image\"}},[_vm._v(\"Image (Aspect Ratio 16:9):\")]),_c('vue-dropzone',{ref:\"dropzone\",attrs:{\"id\":\"dropzone\",\"options\":_vm.dropzoneOptions},on:{\"vdropzone-file-added\":_vm.dropzone_added}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <b-card>\r\n      <b-overlay\n        :show=\"loading\"\n        spinner-variant=\"primary\"\n        rounded=\"sm\"\n      >\r\n        <div>\r\n          <!-- search input -->\r\n          <div class=\"custom-search d-flex justify-content-between\">\r\n            <b-form-group>\r\n              <div class=\"d-flex align-items-center\">\r\n                <b-button\r\n                  v-ripple.400=\"'rgba(113, 102, 240, 0.15)'\"\r\n                  variant=\"outline-primary\"\r\n                  @click=\"addModal()\"\r\n                >\r\n                  <feather-icon\n                    icon=\"PlusIcon\"\n                    class=\"mr-50\"\n                  />\r\n                  <span class=\"align-middle\">Add</span>\r\n                </b-button>\r\n              </div>\r\n            </b-form-group>\r\n            <b-form-group>\r\n              <div class=\"d-flex align-items-center\">\r\n                <b-input-group>\r\n                  <b-form-input\r\n                    v-model=\"query.keyword\"\r\n                    placeholder=\"Search\"\r\n                    type=\"text\"\r\n                    class=\"d-inline-block\"\r\n                  />\r\n                  <b-input-group-append>\r\n                    <b-button\n                      variant=\"outline-primary\"\n                      @click=\"getData()\"\n                    >\r\n                      <feather-icon icon=\"SearchIcon\" />\r\n                    </b-button>\r\n                  </b-input-group-append>\r\n                </b-input-group>\r\n              </div>\r\n            </b-form-group>\r\n          </div>\r\n          <div\n            v-if=\"data.length == 0\"\n            class=\"text-center\"\n          >\r\n            <p class=\"mb-2 pb-75\">\r\n              No data to show\r\n            </p>\r\n          </div>\r\n          <div v-if=\"data.length > 0\">\r\n            <!-- :key harus ada karena menggunakan vue 3, isi string dalam key harus sama dengan parameter kedua setelah v-for -->\r\n            <b-row\n              v-for=\"(row, rowIndex) in chunkedData\"\n              :key=\"rowIndex\"\n            >\r\n              <b-col cols=\"12\">\r\n                <b-card-group\n                  class=\"mb-0\"\n                  deck\n                >\r\n                  <!-- card 1 -->\r\n                  <b-card\r\n                    v-for=\"(regency, regencyIndex) in row\"\r\n                    :key=\"regencyIndex\"\r\n                    :img-src=\"imagePath + regency.image_filename\"\r\n                    :img-alt=\"regency.name\"\r\n                    img-top\r\n                    no-body\r\n                  >\r\n                    <b-card-body>\r\n                      <small class=\"text-muted\">{{\r\n                        getProvince(regency.province_id)\r\n                      }}</small>\r\n                      <b-card-title style=\"margin-top: 5px;\">{{\r\n                        regency.name\r\n                      }}</b-card-title>\r\n                      <b-card-text>\r\n                        {{ regency.description }}\r\n                      </b-card-text>\r\n                    </b-card-body>\r\n                    <b-card-footer>\r\n                      <b-button\r\n                        v-ripple.400=\"'rgba(113, 102, 240, 0.15)'\"\r\n                        variant=\"outline-primary\"\r\n                        class=\"btn-icon rounded-circle\"\r\n                        @click=\"editModal(regency)\"\r\n                      >\r\n                        <feather-icon icon=\"Edit2Icon\" />\r\n                      </b-button>\r\n                      <b-button\r\n                        v-ripple.400=\"'rgba(113, 102, 240, 0.15)'\"\r\n                        variant=\"outline-danger\"\r\n                        class=\"btn-icon rounded-circle\"\r\n                        style=\"margin-left: 5px;\"\r\n                        @click=\"deleteData(regency)\"\r\n                      >\r\n                        <feather-icon icon=\"TrashIcon\" />\r\n                      </b-button>\r\n                      <small\n                        class=\"text-muted ml-1\"\n                      >Last updated\r\n                        {{ regency.updated_at | moment(\"from\", \"now\") }}\r\n                      </small>\r\n                    </b-card-footer>\r\n                  </b-card>\r\n                  <b-card\n                    v-for=\"_idx in 3 - row.length\"\n                    :key=\"_idx\"\n                    no-body\n                  />\r\n                </b-card-group>\r\n              </b-col>\r\n            </b-row>\r\n          </div>\r\n        </div>\r\n      </b-overlay>\r\n    </b-card>\r\n    <b-modal\r\n      ref=\"modal-input\"\r\n      centered\r\n      :title=\"modalTitle\"\r\n      :no-close-on-backdrop=\"true\"\r\n    >\r\n      <b-form>\r\n        <b-form-group>\r\n          <label for=\"province\">Province :</label>\r\n          <v-select\r\n            v-model=\"params.province_id\"\r\n            :options=\"availableProvinces\"\r\n            :reduce=\"(province) => province.id\"\r\n            label=\"name\"\r\n          />\r\n        </b-form-group>\r\n        <b-form-group>\r\n          <label for=\"regionName\">Region Name :</label>\r\n          <b-form-input\r\n            id=\"regionName\"\r\n            v-model=\"params.name\"\r\n            type=\"text\"\r\n            placeholder=\"Region Name\"\r\n          />\r\n        </b-form-group>\r\n        <b-form-group>\r\n          <label for=\"description\">Description :</label>\r\n          <b-form-textarea\r\n            id=\"description\"\r\n            v-model=\"params.description\"\r\n            placeholder=\"Description\"\r\n            rows=\"3\"\r\n            no-resize\r\n          />\r\n        </b-form-group>\r\n        <b-form-group>\r\n          <label for=\"timezone\">Timezone :</label>\r\n          <b-form-radio-group\r\n            v-model=\"params.timezone_offset\"\r\n            :options=\"timezoneOptions\"\r\n            class=\"spacer\"\r\n          />\r\n        </b-form-group>\r\n        <b-form-group>\r\n          <label for=\"image\">Image (Aspect Ratio 16:9):</label>\r\n          <vue-dropzone\r\n            id=\"dropzone\"\r\n            ref=\"dropzone\"\r\n            :options=\"dropzoneOptions\"\r\n            @vdropzone-file-added=\"dropzone_added\"\r\n          />\r\n        </b-form-group>\r\n      </b-form>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  BForm,\r\n  BFormTextarea,\r\n  BFormRadioGroup,\r\n  BOverlay,\r\n  BAlert,\r\n  BSpinner,\r\n  BFormInput,\r\n  BInputGroupAppend,\r\n  BFormGroup,\r\n  BInputGroup,\r\n  BCardGroup,\r\n  BCardFooter,\r\n  BCard,\r\n  BCardText,\r\n  BButton,\r\n  BRow,\r\n  BCol,\r\n  BImg,\r\n  BCardBody,\r\n  BCardTitle,\r\n  BCardSubTitle,\r\n  BLink,\r\n} from 'bootstrap-vue'\r\nimport Ripple from 'vue-ripple-directive'\r\nimport _ from 'lodash'\r\nimport VSelect from 'vue-select'\r\nimport vueDropzone from 'vue2-dropzone'\r\nimport 'vue2-dropzone/dist/vue2Dropzone.min.css'\r\nimport { toastErrorMsg } from '@/libs/helpers'\r\n\r\nexport default {\r\n  components: {\r\n    vueDropzone,\r\n    BFormTextarea,\r\n    VSelect,\r\n    BFormRadioGroup,\r\n    BOverlay,\r\n    BAlert,\r\n    BSpinner,\r\n    BForm,\r\n    BFormInput,\r\n    BInputGroupAppend,\r\n    BFormGroup,\r\n    BInputGroup,\r\n    BCardGroup,\r\n    BCardFooter,\r\n    BCard,\r\n    BCardText,\r\n    BButton,\r\n    BCardBody,\r\n    BCardTitle,\r\n    BCardSubTitle,\r\n    BRow,\r\n    BCol,\r\n    BLink,\r\n    BImg,\r\n  },\r\n  directives: {\r\n    Ripple,\r\n  },\r\n  filters: {\r\n    uppercase(v) {\r\n      return v.toUpperCase()\r\n    },\r\n  },\r\n  // data apa saja yang akan di gunakan pada komponen\r\n  data() {\r\n    return {\r\n      dropzoneOptions: {\r\n        url: 'http://localhost',\r\n        maxFilesize: 2.0,\r\n        maxFiles: 1,\r\n        autoProcessQueue: false,\r\n        thumbnailWidth: 360,\r\n        thumbnailHeight: 202,\r\n        addRemoveLinks: false,\r\n        acceptedFiles: 'image/*',\r\n      },\r\n      dropzoneSelectedFile: null,\r\n      query: {\r\n        keyword: '',\r\n        limit: 15,\r\n        page: 1,\r\n      },\r\n      modalTitle: '',\r\n      availableProvinces: [],\r\n      params: null,\r\n      defaultParams: {\r\n        name: '',\r\n        province_id: 0,\r\n        description: '',\r\n        image: null,\r\n        timezone_offset: null,\r\n      },\r\n      timezoneOptions: [\r\n        { text: 'GMT+7', value: 25200 },\r\n        { text: 'GMT+8', value: 28800 },\r\n        { text: 'GMT+9', value: 32400 },\r\n      ],\r\n      loading: true,\r\n      data: [],\r\n      // $imagepath adalah variabel global bawaan vue yang di definisikan di main.js, berfungsi untuk mendifinisikan lokasi backend laravel untuk import img dari backend laravel\r\n      imagePath: this.$imagePath,\r\n    }\r\n  },\r\n  computed: {\r\n    // chunked berfungsi seperti slice untuk memilah data, this.data yaitu data yang di ambil dari API, kemudian angkanya di set sesuai kebutuhan (contoh card di view region)\r\n    chunkedData() {\r\n      return _.chunk(this.data, 3)\r\n    },\r\n  },\r\n  // created adalah fungsi bawaan dari vue yang berfungsi saat halaman di load maka fungsi ini yang akan pertama kali di panggil\r\n  created() {\r\n    this.initDefaultParams()\r\n    this.getData()\r\n    this.getAvailableProvinces()\r\n  },\r\n  methods: {\r\n    toastErrorMsg,\r\n    getData() {\r\n      this.loading = true\r\n      this.$http\r\n        .get('/regency', { params: this.query })\r\n        .then(res => {\r\n          const _data = res.data.data\r\n          if (_data.length > 0) {\r\n            this.data = _data\r\n          } else {\r\n            // jika datanya kosong dan ada keyword yang di masukkan/mengetik maka jalankan toast\r\n            if (this.query.keyword) {\r\n              this.$toast(\r\n                {\r\n                  component: ToastificationContent,\r\n                  props: {\r\n                    title: 'Error',\r\n                    icon: 'AlertCircleIcon',\r\n                    text: 'No data found with specified keyword',\r\n                    variant: 'danger',\r\n                  },\r\n                },\r\n                {\r\n                  position: 'top-center',\r\n                  timeout: 6000,\r\n                },\r\n              )\r\n            }\r\n          }\r\n          this.$nextTick(() => {\r\n            this.loading = false\r\n          })\r\n        })\r\n        .catch(err => {\r\n          if (err.response) {\r\n            const errMsg = err.response.data.data\r\n            if (errMsg) {\r\n              return this.toastErrorMsg(errMsg)\r\n            }\r\n          }\r\n          return this.toastErrorMsg(err.message)\r\n        })\r\n    },\r\n    getAvailableProvinces() {\r\n      this.$http\r\n        .get('/regency/getAvailableProvinces')\r\n        .then(res => {\r\n          this.availableProvinces = res.data.data\r\n        })\r\n        .catch(err => {\r\n          if (err.response) {\r\n            const errMsg = err.response.data.data\r\n            if (errMsg) {\r\n              return this.toastErrorMsg(errMsg)\r\n            }\r\n          }\r\n          return this.toastErrorMsg(err.message)\r\n        })\r\n    },\r\n    getProvince(id) {\r\n      const prov = this.availableProvinces.find(x => x.id === id)\r\n      if (prov) {\r\n        return prov.name\r\n      }\r\n      return ''\r\n    },\r\n    initDefaultParams() {\r\n      this.params = JSON.parse(JSON.stringify(this.defaultParams))\r\n    },\r\n    addModal() {\r\n      this.initDefaultParams()\r\n      this.modalTitle = 'Add Region'\r\n      this.$refs['modal-input'].onOk = () => this.addData(this.params)\r\n      this.$refs['modal-input'].show()\r\n      this.$nextTick(() => {\r\n        this.$refs.dropzone.removeAllFiles()\r\n      })\r\n    },\r\n    addData(params) {\r\n      if (this.dropzoneSelectedFile) {\r\n        params.image = this.dropzoneSelectedFile.dataURL\r\n      }\r\n      this.$http\r\n        .post('/regency', params)\r\n        .then(res => {\r\n          this.$refs['modal-input'].hide()\r\n          this.getData()\r\n        })\r\n        .catch(err => {\r\n          const errMsg = err.response.data.data\r\n          this.toastErrorMsg(errMsg)\r\n        })\r\n    },\r\n    editModal(item) {\r\n      this.initDefaultParams()\r\n      this.modalTitle = `Edit Region : ${item.name}`\r\n      this.params.province_id = item.province_id\r\n      this.params.name = item.name\r\n      this.params.description = item.description\r\n      this.params.timezone_offset = item.timezone_offset\r\n      this.$refs['modal-input'].onOk = () => this.editData(item.id, this.params)\r\n      this.$refs['modal-input'].show()\r\n      this.$nextTick(() => {\r\n        const fileExt = item.image_filename.split('.').pop()\r\n        const file = { size: 1, type: `image/${fileExt}` }\r\n        const url = this.imagePath + item.image_filename\r\n        this.$refs.dropzone.removeAllFiles()\r\n        this.$refs.dropzone.manuallyAddFile(file, url)\r\n        $('.dz-message').remove()\r\n      })\r\n    },\r\n    editData(id, params) {\r\n      params.image = this.dropzoneSelectedFile.dataURL\r\n      params._method = 'PUT'\r\n      this.$http\r\n        .post(`/regency/${id}`, params)\r\n        .then(res => {\r\n          this.$refs['modal-input'].hide()\r\n          this.getData()\r\n        })\r\n        .catch(err => {\r\n          const errMsg = err.response.data.data\r\n          this.toastErrorMsg(errMsg)\r\n        })\r\n    },\r\n    deleteData(item) {\r\n      this.$swal({\r\n        title: 'Are you sure?',\r\n        text: `Regency ${item.name} will be removed. All user with this Regency need to be updated with new Regency.`,\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes',\r\n        customClass: {\r\n          confirmButton: 'btn btn-primary',\r\n          cancelButton: 'btn btn-outline-danger ml-1',\r\n        },\r\n        buttonsStyling: false,\r\n      }).then(result => {\r\n        if (result.value) {\r\n          this.$http\r\n            .delete(`/regency/${item.id}`)\r\n            .then(res => {\r\n              this.$swal({\r\n                icon: 'success',\r\n                title: 'Deleted!',\r\n                text: 'Regency has been deleted.',\r\n                customClass: {\r\n                  confirmButton: 'btn btn-success',\r\n                },\r\n              })\r\n              this.getData()\r\n            })\r\n            .catch(err => {\r\n              const errMsg = err.response.data.data\r\n              this.toastErrorMsg(errMsg)\r\n            })\r\n        }\r\n      })\r\n    },\r\n    dropzone_added(file) {\r\n      if (this.dropzoneSelectedFile !== null) {\r\n        this.$refs.dropzone.removeFile(this.dropzoneSelectedFile)\r\n      }\r\n      this.dropzoneSelectedFile = file\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n@import \"@core/scss/vue/libs/vue-good-table.scss\";\r\n.spacer {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  & > * {\r\n    margin-left: 0.5rem;\r\n    margin-top: 0;\r\n    margin-bottom: 0.5rem;\r\n  }\r\n}\r\n.dropzone .dz-preview .dz-image {\r\n  width: 360px;\r\n  height: 202px;\r\n}\r\n.vue-dropzone {\r\n  padding-left: 30px;\r\n  padding-right: 30px;\r\n}\r\n.dz-progress {\r\n  display: none !important;\r\n}\r\n.dz-details {\r\n  display: none !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=27e2f0de&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}