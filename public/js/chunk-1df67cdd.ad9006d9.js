(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1df67cdd"],{"58ba":function(e,t,r){"use strict";r("9b23")},"5cf1":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"auth-wrapper auth-v2"},[r("b-row",{staticClass:"auth-inner m-0"},[r("b-link",{staticClass:"brand-logo"},[r("vuexy-logo"),r("h2",{staticClass:"brand-text text-primary ml-1"},[e._v("\n        Vuexy\n      ")])],1),r("b-col",{staticClass:"d-none d-lg-flex align-items-center p-5",attrs:{lg:"8"}},[r("div",{staticClass:"w-100 d-lg-flex align-items-center justify-content-center px-5"},[r("b-img",{attrs:{fluid:"",src:e.imgUrl,alt:"Register V2"}})],1)]),r("b-col",{staticClass:"d-flex align-items-center auth-bg px-2 p-lg-5",attrs:{lg:"4"}},[r("b-col",{staticClass:"px-xl-2 mx-auto",attrs:{sm:"8",md:"6",lg:"12"}},[r("b-card-title",{staticClass:"mb-1"},[e._v("\n          Adventure starts here \n        ")]),r("b-card-text",{staticClass:"mb-2"},[e._v("\n          Make your app management easy and fun!\n        ")]),r("validation-observer",{ref:"registerForm",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.invalid;return[r("b-form",{staticClass:"auth-register-form mt-2",on:{submit:function(t){return t.preventDefault(),e.register(t)}}},[r("b-form-group",{attrs:{label:"Username","label-for":"register-username"}},[r("validation-provider",{attrs:{name:"Username",vid:"username",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("b-form-input",{attrs:{id:"register-username",name:"register-username",state:!(a.length>0)&&null,placeholder:"johndoe"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),r("small",{staticClass:"text-danger"},[e._v(e._s(a[0]))])]}}],null,!0)})],1),r("b-form-group",{attrs:{label:"Email","label-for":"register-email"}},[r("validation-provider",{attrs:{name:"Email",vid:"email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("b-form-input",{attrs:{id:"register-email",name:"register-email",state:!(a.length>0)&&null,placeholder:"john@example.com"},model:{value:e.userEmail,callback:function(t){e.userEmail=t},expression:"userEmail"}}),r("small",{staticClass:"text-danger"},[e._v(e._s(a[0]))])]}}],null,!0)})],1),r("b-form-group",{attrs:{"label-for":"register-password",label:"Password"}},[r("validation-provider",{attrs:{name:"Password",vid:"password",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("b-input-group",{staticClass:"input-group-merge",class:a.length>0?"is-invalid":null},[r("b-form-input",{staticClass:"form-control-merge",attrs:{id:"register-password",type:e.passwordFieldType,state:!(a.length>0)&&null,name:"register-password",placeholder:"路路路路路路路路路路路路"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("b-input-group-append",{attrs:{"is-text":""}},[r("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:e.passwordToggleIcon},on:{click:e.togglePasswordVisibility}})],1)],1),r("small",{staticClass:"text-danger"},[e._v(e._s(a[0]))])]}}],null,!0)})],1),r("b-form-group",[r("b-form-checkbox",{attrs:{id:"register-privacy-policy",name:"checkbox-1"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},[e._v("\n                I agree to\n                "),r("b-link",[e._v("privacy policy & terms")])],1)],1),r("b-button",{attrs:{variant:"primary",block:"",type:"submit",disabled:a}},[e._v("\n              Sign up\n            ")])],1)]}}])}),r("p",{staticClass:"text-center mt-2"},[r("span",[e._v("Already have an account?")]),r("b-link",{attrs:{to:{name:"auth-login"}}},[r("span",[e._v("Sign in instead")])])],1),r("div",{staticClass:"divider my-2"},[r("div",{staticClass:"divider-text"},[e._v("\n            or\n          ")])]),r("div",{staticClass:"auth-footer-btn d-flex justify-content-center"},[r("b-button",{attrs:{variant:"facebook",href:"javascript:void(0)"}},[r("feather-icon",{attrs:{icon:"FacebookIcon"}})],1),r("b-button",{attrs:{variant:"twitter",href:"javascript:void(0)"}},[r("feather-icon",{attrs:{icon:"TwitterIcon"}})],1),r("b-button",{attrs:{variant:"google",href:"javascript:void(0)"}},[r("feather-icon",{attrs:{icon:"MailIcon"}})],1),r("b-button",{attrs:{variant:"github",href:"javascript:void(0)"}},[r("feather-icon",{attrs:{icon:"GithubIcon"}})],1)],1)],1)],1)],1)],1)},s=[],n=r("7bb1"),o=r("088b"),i=r("a15b"),c=r("4918"),l=r("b28b"),u=r("aa59"),d=r("1947"),f=r("11de"),p=r("d6e4"),g=r("4968"),m=r("c3e6"),h=r("8226"),b=r("4797"),v=r("5e12"),k=r("ccc0"),y=r("8f03"),w=r("b91d"),T=r("4360"),x=r("7100"),C={components:{VuexyLogo:o["a"],BRow:i["a"],BImg:c["a"],BCol:l["a"],BLink:u["a"],BButton:d["a"],BForm:f["a"],BCardText:p["a"],BCardTitle:g["a"],BFormCheckbox:m["a"],BFormGroup:h["a"],BFormInput:b["a"],BInputGroup:v["a"],BInputGroupAppend:k["a"],ValidationProvider:n["b"],ValidationObserver:n["a"]},mixins:[w["a"]],data:function(){return{status:"",username:"",userEmail:"",password:"",sideImg:r("67df"),required:y["l"],email:y["g"]}},computed:{passwordToggleIcon:function(){return"password"===this.passwordFieldType?"EyeIcon":"EyeOffIcon"},imgUrl:function(){return"dark"===T["a"].state.appConfig.layout.skin?(this.sideImg=r("99b7"),this.sideImg):this.sideImg}},methods:{register:function(){var e=this;this.$refs.registerForm.validate().then((function(t){t&&x["a"].register({username:e.username,email:e.userEmail,password:e.password}).then((function(t){x["a"].setToken(t.data.accessToken),x["a"].setRefreshToken(t.data.refreshToken),localStorage.setItem("userData",JSON.stringify(t.data.userData)),e.$ability.update(t.data.userData.ability),e.$router.push("/")})).catch((function(t){e.$refs.registerForm.setErrors(t.response.data.error)}))}))}}},j=C,I=(r("58ba"),r("2877")),_=Object(I["a"])(j,a,s,!1,null,null,null);t["default"]=_.exports},7100:function(e,t,r){"use strict";var a=r("5530");function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}var i=r("ade3"),c=(r("99af"),r("d3b7"),r("4de4"),{loginEndpoint:"/jwt/login",registerEndpoint:"/jwt/register",refreshEndpoint:"/jwt/refresh-token",logoutEndpoint:"/jwt/logout",tokenType:"Bearer",storageTokenKeyName:"accessToken",storageRefreshTokenKeyName:"refreshToken"}),l=function(){function e(t,r){var n=this;s(this,e),Object(i["a"])(this,"axiosIns",null),Object(i["a"])(this,"jwtConfig",Object(a["a"])({},c)),Object(i["a"])(this,"isAlreadyFetchingAccessToken",!1),Object(i["a"])(this,"subscribers",[]),this.axiosIns=t,this.jwtConfig=Object(a["a"])(Object(a["a"])({},this.jwtConfig),r),this.axiosIns.interceptors.request.use((function(e){var t=n.getToken();return t&&(e.headers.Authorization="".concat(n.jwtConfig.tokenType," ").concat(t)),e}),(function(e){return Promise.reject(e)})),this.axiosIns.interceptors.response.use((function(e){return e}),(function(e){var t=e.config,r=e.response,a=t;if(r&&401===r.status){n.isAlreadyFetchingAccessToken||(n.isAlreadyFetchingAccessToken=!0,n.refreshToken().then((function(e){n.isAlreadyFetchingAccessToken=!1,n.setToken(e.data.accessToken),n.setRefreshToken(e.data.refreshToken),n.onAccessTokenFetched(e.data.accessToken)})));var s=new Promise((function(e){n.addSubscriber((function(t){a.headers.Authorization="".concat(n.jwtConfig.tokenType," ").concat(t),e(n.axiosIns(a))}))}));return s}return Promise.reject(e)}))}return o(e,[{key:"onAccessTokenFetched",value:function(e){this.subscribers=this.subscribers.filter((function(t){return t(e)}))}},{key:"addSubscriber",value:function(e){this.subscribers.push(e)}},{key:"getToken",value:function(){return localStorage.getItem(this.jwtConfig.storageTokenKeyName)}},{key:"getRefreshToken",value:function(){return localStorage.getItem(this.jwtConfig.storageRefreshTokenKeyName)}},{key:"setToken",value:function(e){localStorage.setItem(this.jwtConfig.storageTokenKeyName,e)}},{key:"setRefreshToken",value:function(e){localStorage.setItem(this.jwtConfig.storageRefreshTokenKeyName,e)}},{key:"login",value:function(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=this.axiosIns).post.apply(e,[this.jwtConfig.loginEndpoint].concat(r))}},{key:"register",value:function(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=this.axiosIns).post.apply(e,[this.jwtConfig.registerEndpoint].concat(r))}},{key:"refreshToken",value:function(){return this.axiosIns.post(this.jwtConfig.refreshEndpoint,{refreshToken:this.getRefreshToken()})}}]),e}();function u(e,t){var r=new l(e,t);return{jwt:r}}var d=r("7f80"),f=u(d["a"],{}),p=f.jwt;t["a"]=p},"9b23":function(e,t,r){}}]);
//# sourceMappingURL=chunk-1df67cdd.ad9006d9.js.map