(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d0661de"],{"12d058":function(t,a,e){"use strict";e("626b")},"626b":function(t,a,e){},daf9:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("b-card",[e("b-overlay",{attrs:{show:t.loading,"spinner-variant":"primary",rounded:"sm"}},[e("div",[e("div",{staticClass:"custom-search d-flex justify-content-between"},[e("b-form-group",[e("div",{staticClass:"d-flex align-items-center"},[e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],attrs:{variant:"outline-primary"},on:{click:function(a){return t.addModal()}}},[e("feather-icon",{staticClass:"mr-50",attrs:{icon:"PlusIcon"}}),e("span",{staticClass:"align-middle"},[t._v("Add")])],1)],1)]),e("b-form-group",[e("div",{staticClass:"d-flex align-items-center"},[e("b-input-group",[e("b-form-input",{staticClass:"d-inline-block",attrs:{placeholder:"Search",type:"text"},model:{value:t.query.keyword,callback:function(a){t.$set(t.query,"keyword",a)},expression:"query.keyword"}}),e("b-input-group-append",[e("b-button",{attrs:{variant:"outline-primary"},on:{click:function(a){return t.getData()}}},[e("feather-icon",{attrs:{icon:"SearchIcon"}})],1)],1)],1)],1)])],1),0==t.data.length?e("div",{staticClass:"text-center"},[e("p",{staticClass:"mb-2 pb-75"},[t._v("\n            No data to show\n          ")])]):t._e(),t.data.length>0?e("div",t._l(t.chunkedData,(function(a,o){return e("b-row",{key:o},[e("b-col",{attrs:{cols:"12"}},[e("b-card-group",{staticClass:"mb-0",attrs:{deck:""}},[t._l(a,(function(a,o){return e("b-card",{key:o,attrs:{"img-src":t.imagePath+a.image_filename,"img-alt":a.name,"img-top":"","no-body":""}},[e("b-card-body",[e("b-card-title",{staticStyle:{"margin-top":"5px"}},[t._v(t._s(a.name))])],1),e("b-card-footer",[e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"btn-icon rounded-circle",attrs:{variant:"outline-primary"},on:{click:function(e){return t.editModal(a)}}},[e("feather-icon",{attrs:{icon:"Edit2Icon"}})],1),e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"btn-icon rounded-circle",staticStyle:{"margin-left":"5px"},attrs:{variant:"outline-danger"},on:{click:function(e){return t.deleteData(a)}}},[e("feather-icon",{attrs:{icon:"TrashIcon"}})],1),e("small",{staticClass:"text-muted ml-1"},[t._v("Last updated\n                      "+t._s(t._f("moment")(a.updated_at,"from","now"))+"\n                    ")])],1)],1)})),t._l(3-a.length,(function(t){return e("b-card",{key:t,attrs:{"no-body":""}})}))],2)],1)],1)})),1):t._e()])])],1),e("b-modal",{ref:"modal-input",attrs:{centered:"",title:t.modalTitle,"no-close-on-backdrop":!0}},[e("b-overlay",{attrs:{show:t.modalLoading,"spinner-variant":"primary",rounded:"sm"}},[e("b-form",[e("b-form-group",[e("label",{attrs:{for:"touristAttractionName"}},[t._v("Tourist Attraction Category Name :")]),e("b-form-input",{attrs:{id:"touristAttractionName",type:"text",placeholder:"Tourist Attraction Category Name"},model:{value:t.params.name,callback:function(a){t.$set(t.params,"name",a)},expression:"params.name"}})],1),e("b-form-group",[e("label",{attrs:{for:"image"}},[t._v("Image (Aspect Ratio 16:9):")]),e("vue-dropzone",{ref:"dropzone",attrs:{id:"dropzone",options:t.dropzoneOptions},on:{"vdropzone-file-added":t.dropzone_added}})],1)],1)],1)],1)],1)},i=[],n=(e("d3b7"),e("b0c0"),e("a4d3"),e("e01a"),e("ac1f"),e("1276"),e("9c7d")),r=e("2924"),s=e("9b03"),d=e("5fda"),c=e("01e3"),l=e("11de"),u=e("4797"),p=e("ccc0"),m=e("8226"),f=e("5e12"),h=e("5cce"),g=e("670f"),b=e("205f"),v=e("d6e4"),y=e("1947"),_=e("6197"),C=e("4968"),w=e("ba06"),k=e("a15b"),B=e("b28b"),x=e("aa59"),z=e("4918"),T=e("e009"),A=e("2ef0"),D=e.n(A),F=e("4a7a"),S=e.n(F),P=e("92c3"),L=e.n(P),N=(e("1e3f"),e("2bb3")),E={components:{vueDropzone:L.a,BFormTextarea:n["a"],VSelect:S.a,BFormRadioGroup:r["a"],BOverlay:s["a"],BAlert:d["a"],BSpinner:c["a"],BForm:l["a"],BFormInput:u["a"],BInputGroupAppend:p["a"],BFormGroup:m["a"],BInputGroup:f["a"],BCardGroup:h["a"],BCardFooter:g["a"],BCard:b["a"],BCardText:v["a"],BButton:y["a"],BCardBody:_["a"],BCardTitle:C["a"],BCardSubTitle:w["a"],BRow:k["a"],BCol:B["a"],BLink:x["a"],BImg:z["a"]},directives:{Ripple:T["a"]},filters:{uppercase:function(t){return t.toUpperCase()}},data:function(){return{dropzoneOptions:{url:"http://localhost",maxFilesize:2,maxFiles:1,autoProcessQueue:!1,thumbnailWidth:360,thumbnailHeight:202,addRemoveLinks:!1,acceptedFiles:"image/*"},dropzoneSelectedFile:null,query:{keyword:"",limit:15,page:1},modalTitle:"",availableProvinces:[],params:null,defaultParams:{name:"",image:null},loading:!0,modalLoading:!1,data:[],imagePath:this.$imagePath}},computed:{chunkedData:function(){return D.a.chunk(this.data,3)}},created:function(){this.initDefaultParams(),this.getData(),this.getAvailableProvinces()},methods:{toastErrorMsg:N["d"],getData:function(){var t=this;this.loading=!0,this.$http.get("/tourist_attraction_category",{params:this.query}).then((function(a){var e=a.data.data;e.length>0?t.data=e:t.query.keyword&&t.$toast({component:ToastificationContent,props:{title:"Error",icon:"AlertCircleIcon",text:"No data found with specified keyword",variant:"danger"}},{position:"top-center",timeout:6e3}),t.$nextTick((function(){t.loading=!1}))})).catch((function(a){if(a.response){var e=a.response.data.data;if(e)return t.toastErrorMsg(e)}return t.toastErrorMsg(a.message)}))},initDefaultParams:function(){this.params=JSON.parse(JSON.stringify(this.defaultParams))},addModal:function(){var t=this;this.initDefaultParams(),this.modalTitle="Add Tourist Attraction Category",this.$refs["modal-input"].onOk=function(){return t.addData(t.params)},this.$refs["modal-input"].show(),this.$nextTick((function(){t.$refs.dropzone.removeAllFiles()}))},addData:function(t){var a=this;this.dropzoneSelectedFile&&(t.image=this.dropzoneSelectedFile.dataURL),this.modalLoading=!0,this.$http.post("/tourist_attraction_category",t).then((function(t){a.$refs["modal-input"].hide(),a.getData()})).catch((function(t){var e=t.response.data.data;a.toastErrorMsg(e)})).finally((function(){a.modalLoading=!1}))},editModal:function(t){var a=this;this.initDefaultParams(),this.modalTitle="Edit Tourist Attraction Category : ".concat(t.name),this.params.province_id=t.province_id,this.params.name=t.name,this.params.description=t.description,this.params.timezone_offset=t.timezone_offset,this.$refs["modal-input"].onOk=function(){return a.editData(t.id,a.params)},this.$refs["modal-input"].show(),this.$nextTick((function(){var e=t.image_filename.split(".").pop(),o={size:1,type:"image/".concat(e)},i=a.imagePath+t.image_filename;a.$refs.dropzone.removeAllFiles(),a.$refs.dropzone.manuallyAddFile(o,i),$(".dz-message").remove()}))},editData:function(t,a){var e=this;a.image=this.dropzoneSelectedFile.dataURL,a._method="PUT",this.modalLoading=!0,this.$http.post("/tourist_attraction_category/".concat(t),a).then((function(t){e.$refs["modal-input"].hide(),e.getData()})).catch((function(t){var a=t.response.data.data;e.toastErrorMsg(a)})).finally((function(){e.modalLoading=!1}))},deleteData:function(t){var a=this;this.$swal({title:"Are you sure?",text:"Tourist Attraction Category ".concat(t.name," will be removed. All Tourist Attraction with this Category need to be updated with new Category."),icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1}).then((function(e){e.value&&a.$http.delete("/tourist_attraction_category/".concat(t.id)).then((function(t){a.$swal({icon:"success",title:"Deleted!",text:"Tourist Attraction Category has been deleted.",customClass:{confirmButton:"btn btn-success"}}),a.getData()})).catch((function(t){var e=t.response.data.data;a.toastErrorMsg(e)}))}))},dropzone_added:function(t){null!==this.dropzoneSelectedFile&&this.$refs.dropzone.removeFile(this.dropzoneSelectedFile),this.dropzoneSelectedFile=t}}},I=E,M=(e("12d058"),e("2877")),O=Object(M["a"])(I,o,i,!1,null,null,null);a["default"]=O.exports}}]);
//# sourceMappingURL=chunk-0d0661de.44398313.js.map